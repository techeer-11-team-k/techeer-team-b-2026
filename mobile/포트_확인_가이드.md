# 모바일 앱 포트 확인 가이드

## 현재 상태

✅ **포트 3000 확인됨**: 서버가 `0.0.0.0:3000`에서 실행 중 (외부 접근 가능)
✅ **Vite 설정 확인됨**: `host: '0.0.0.0'` 설정 완료

## 문제 해결

### 1. 에뮬레이터/시뮬레이터 사용 시

**Android 에뮬레이터:**
- URL: `http://10.0.2.2:3000` ✅ (이미 설정됨)

**iOS 시뮬레이터:**
- URL: `http://localhost:3000` ✅ (이미 설정됨)

### 2. 실제 기기 사용 시

**현재 확인된 로컬 IP:**
- `175.196.158.45` (가장 가능성 높음)
- `25.25.54.20`
- `172.25.32.1`

**수정 방법:**

1. `mobile/App.tsx` 파일 열기
2. `LOCAL_IP` 상수를 컴퓨터의 실제 로컬 IP로 변경:
   ```typescript
   const LOCAL_IP = '175.196.158.45'; // 👈 여기를 변경
   ```
3. 실제 기기용 URL 주석 해제:
   ```typescript
   // return `http://${ip}:3000`;  // 이 줄의 주석 제거
   return 'http://localhost:3000';  // 이 줄 주석 처리
   ```

또는 환경 변수 사용:
```bash
# mobile/.env 파일 생성
EXPO_PUBLIC_LOCAL_IP=175.196.158.45
```

### 3. 로컬 IP 확인 방법

**Windows:**
```bash
ipconfig | findstr /i "IPv4"
```

**Mac/Linux:**
```bash
ifconfig | grep "inet "
```

일반적으로 `192.168.x.x` 또는 `10.x.x.x` 형식의 IP를 사용합니다.

## 디버깅

### 콘솔 로그 확인

모바일 앱 실행 시 다음 로그를 확인하세요:

```
🔄 WebView 로딩 시작
📍 URL: http://...
📱 Platform: ios/android
🔧 __DEV__: true/false
```

### 오류 발생 시

1. **"로딩 중..."만 표시되는 경우:**
   - URL이 올바른지 확인
   - 서버가 실행 중인지 확인 (`http://localhost:3000` 접속 테스트)
   - 방화벽이 포트 3000을 차단하지 않는지 확인

2. **"HTTP 오류: 404" 또는 연결 오류:**
   - 서버가 실제로 포트 3000에서 실행 중인지 확인
   - 로컬 IP가 올바른지 확인
   - 모바일 기기와 컴퓨터가 같은 Wi-Fi 네트워크에 연결되어 있는지 확인

3. **"CORS 오류":**
   - Vite 서버가 `host: '0.0.0.0'`으로 설정되어 있는지 확인
   - 백엔드 CORS 설정 확인

## 빠른 테스트

1. **웹 브라우저에서 확인:**
   ```bash
   # 브라우저에서 접속
   http://localhost:3000
   ```

2. **로컬 IP로 접속 확인:**
   ```bash
   # 브라우저에서 접속 (같은 네트워크의 다른 기기에서)
   http://175.196.158.45:3000
   ```

3. **모바일 앱 재시작:**
   ```bash
   cd mobile
   npm start
   ```

## 다음 단계

실제 기기에서 테스트할 때:
1. `LOCAL_IP`를 컴퓨터의 실제 로컬 IP로 변경
2. 실제 기기용 URL 주석 해제
3. 모바일 기기와 컴퓨터가 같은 Wi-Fi에 연결되어 있는지 확인
4. 모바일 앱 재시작
