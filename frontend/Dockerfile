# ============================================================
# ğŸ  ë¶€ë™ì‚° ë¶„ì„ í”Œë«í¼ - Frontend Dockerfile
# ============================================================
# ë¹Œë“œ: docker build -t realestate-frontend .
# ì‹¤í–‰: docker run -p 3000:3000 realestate-frontend
# ============================================================

# Node.js 20 LTS ì´ë¯¸ì§€ ì‚¬ìš©
FROM node:20-alpine

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
ENV NODE_ENV=development \
    VITE_API_BASE_URL=http://localhost:8000/api/v1

# ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì •
WORKDIR /app

# package.jsonê³¼ package-lock.json ë¨¼ì € ë³µì‚¬ (ìºì‹± ìµœì í™”)
COPY package*.json ./

# ì˜ì¡´ì„± ì„¤ì¹˜
RUN npm ci

# ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬
COPY . .

# í¬íŠ¸ ë…¸ì¶œ
EXPOSE 3000

# ê°œë°œ ì„œë²„ ì‹¤í–‰ (hot reload ì§€ì›)
CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0"]
